{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed, ref, watch, onMounted } from 'vue';\nconst calculateWinner = squares => {\n  const lines = [[0, 1, 2], [3, 4, 5], [5, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] == squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n};\nexport default {\n  setup() {\n    const player = ref('X');\n    const squares = ref([['', '', ''], ['', '', ''], ['', '', '']]);\n    const winner = computed(() => calculateWinner(squares.value.flat()));\n    const move = (x, y) => {\n      if (winner.value) return;\n      squares.value[x][y] = player.value;\n      player.value = player.value === 'O' ? 'X' : 'O';\n    };\n    const reset = () => {\n      player.value = 'X';\n      squares.value = [['', '', ''], ['', '', ''], ['', '', '']];\n    };\n    const history = ref([]);\n    watch(winner, (current, previous) => {\n      if (current && !previous) {\n        history.value.push(current);\n        localStorage.setItem('history', JSON.stringify(history.value));\n      }\n    });\n    onMounted(() => {\n      history.value = JSON.parse(localStorage.getItem('history')) ?? [];\n    });\n    return {\n      winner,\n      player,\n      squares,\n      move,\n      reset,\n      history\n    };\n  }\n};","map":{"version":3,"mappings":";AAqBI,SAAQA,QAAQ,EAAEC,GAAG,EAAEC,KAAK,EAAEC,SAAS,QAAO,KAAI;AAEtD,MAAMC,eAAc,GAAIC,OAAM,IAAI;EAClC,MAAMC,KAAI,GAAI,CACd,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EACP,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EACN;EACA,KAAK,IAAIC,IAAI,CAAC,EAAEA,IAAID,KAAK,CAACE,MAAM,EAAED,CAAC,EAAE,EAAC;IAClC,MAAM,CAACE,CAAC,EAACC,CAAC,EAACC,CAAC,IAAIL,KAAK,CAACC,CAAC;IACvB,IAAIF,OAAO,CAACI,CAAC,KAAKJ,OAAO,CAACI,CAAC,MAAMJ,OAAO,CAACK,CAAC,KAAKL,OAAO,CAACI,CAAC,KAAKJ,OAAO,CAACM,CAAC,CAAC,EAAC;MACpE,OAAON,OAAO,CAACI,CAAC;IACpB;EACJ;EACA,OAAO,IAAG;AACN;AAEA,eAAc;EACVG,KAAK,GAAE;IACH,MAAMC,MAAK,GAAIZ,GAAG,CAAC,GAAG;IACtB,MAAMI,OAAM,GAAIJ,GAAG,CAAC,CAChB,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EACV,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EACV,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EACZ;IACD,MAAMa,MAAK,GAAId,QAAQ,CAAC,MAAMI,eAAe,CAACC,OAAO,CAACU,KAAK,CAACC,IAAI,EAAE,CAAC;IAEnE,MAAMC,IAAG,GAAI,CAACC,CAAC,EAAEC,CAAC,KAAK;MACnB,IAAIL,MAAM,CAACC,KAAK,EAAE;MAClBV,OAAO,CAACU,KAAK,CAACG,CAAC,CAAC,CAACC,CAAC,IAAIN,MAAM,CAACE,KAAI;MACjCF,MAAM,CAACE,KAAI,GAAIF,MAAM,CAACE,KAAI,KAAM,GAAE,GAAI,GAAE,GAAI,GAAE;IAClD;IACA,MAAMK,KAAI,GAAI,MAAM;MACnBP,MAAM,CAACE,KAAI,GAAI,GAAE;MACjBV,OAAO,CAACU,KAAI,GAAI,CACb,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EACV,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EACV,CAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EACb;IACA;IAEA,MAAMM,OAAM,GAAIpB,GAAG,CAAC,EAAE;IACtBC,KAAK,CAACY,MAAM,EAAE,CAACQ,OAAO,EAAEC,QAAQ,KAAK;MACjC,IAAID,OAAM,IAAK,CAACC,QAAQ,EAAC;QACrBF,OAAO,CAACN,KAAK,CAACS,IAAI,CAACF,OAAO;QAC1BG,YAAY,CAACC,OAAO,CAAC,SAAS,EAAEC,IAAI,CAACC,SAAS,CAACP,OAAO,CAACN,KAAK,CAAC;MACjE;IACJ,CAAC;IAEDZ,SAAS,CAAC,MAAK;MACXkB,OAAO,CAACN,KAAI,GAAIY,IAAI,CAACE,KAAK,CAACJ,YAAY,CAACK,OAAO,CAAC,SAAS,CAAC,KAAK,EAAC;IACpE,CAAC;IAED,OAAO;MAAChB,MAAM;MAAED,MAAM;MAAER,OAAO;MAAEY,IAAI;MAAEG,KAAK;MAAEC;IAAO;EACzD;AACJ","names":["computed","ref","watch","onMounted","calculateWinner","squares","lines","i","length","a","b","c","setup","player","winner","value","flat","move","x","y","reset","history","current","previous","push","localStorage","setItem","JSON","stringify","parse","getItem"],"sourceRoot":"","sources":["/Users/sofiasobko/Downloads/peek-a-vue-000-start/src/components/Haha.vue"],"sourcesContent":["<template>\n   <div class=\"container\">\n<h2 v-if=\"winner\">Winner: {{winner}}</h2>\n<h2 v-else>Players: {{player}}</h2>\n<button @click=\"reset\" class=\"btn btn-success mb-3\">\n    Reset\n</button>\n\n<div v-for=\"(_, x) in 3\" :key=\"x\" class=\"row\">\n<button v-for=\"() in 3\" :key=\"y\" class=\"square\" @click=\"move(x,y)\">\n    {{ squares[x][y] }}\n</button>\n</div>\n<h2 class=\"mt-5\">History</h2>\n<div v-for=\"(game, idx) in history\" :key=\"idx\">\n    Game {{idx + 1}}: {{game}} won\n</div>\n   </div>\n</template>\n\n<script>\n    import {computed, ref, watch, onMounted} from 'vue'\n\nconst calculateWinner = squares =>{\nconst lines = [\n[0,1,2],\n[3,4,5],\n[5,7,8],\n[0,3,6],\n[1,4,7],\n[2,5,8],\n[0,4,8],\n[2,4,6]\n]\nfor (let i = 0; i < lines.length; i++){\n    const [a,b,c] = lines[i]\n    if (squares[a] && squares[a] === squares[b] && squares[a] == squares[c]){\n        return squares[a]\n    }\n}\nreturn null\n    }\n\n    export default{\n        setup(){\n            const player = ref('X')\n            const squares = ref([\n                ['','',''],\n                ['','',''],\n                ['','','']\n            ])\n            const winner = computed(() => calculateWinner(squares.value.flat()))\n\n            const move = (x, y) => {\n                if (winner.value) return\n                squares.value[x][y] = player.value\n                player.value = player.value === 'O' ? 'X' : 'O'\n            }\n            const reset = () => {\n             player.value = 'X'\n             squares.value = [\n                ['','',''],\n                ['','',''],\n                ['','','']\n            ]\n            }\n\n            const history = ref([])\n            watch(winner, (current, previous) => {\n                if (current && !previous){\n                    history.value.push(current)\n                    localStorage.setItem('history', JSON.stringify(history.value))\n                }\n            })\n        \n            onMounted(() =>{\n                history.value = JSON.parse(localStorage.getItem('history')) ?? []\n            })\n\n            return {winner, player, squares, move, reset, history}\n        }\n    }\n \n</script>\n\n<style scoped>\n.square {\n  background: #fff;\n  border: 1px solid #999;\n  float: left;\n  font-size: 70px;\n  font-weight: bold;\n  line-height: 34px;\n  height: 100px;\n  margin-right: -1px;\n  margin-top: -1px;\n  padding: 0;\n  text-align: center;\n  width: 100px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}